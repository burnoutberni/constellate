# Constellate - Environment Variables
# Copy this file to .env and fill in the values

# ============================================
# REQUIRED - Production
# ============================================

# Base URL for the application (required in production)
# This should be your public-facing URL (e.g., https://yourdomain.com)
BASE_URL=https://yourdomain.com

# Trusted origins for Better Auth (comma-separated)
# Should match your BASE_URL and any frontend domains
BETTER_AUTH_TRUSTED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Better Auth secret (generate with: openssl rand -base64 32)
BETTER_AUTH_SECRET_FILE=/run/secrets/better_auth_secret # See docker-compose.prod.yml for Docker Secrets setup

# Encryption key for private keys (generate with: openssl rand -hex 32)
ENCRYPTION_KEY_FILE=/run/secrets/encryption_key # See docker-compose.prod.yml for Docker Secrets setup

# PostgreSQL username
POSTGRES_USER=postgres

# PostgreSQL password
POSTGRES_PASSWORD_FILE=/run/secrets/postgres_password # See docker-compose.prod.yml for Docker Secrets setup

# PostgreSQL database name
POSTGRES_DB=constellate

# PostgreSQL host
POSTGRES_HOST=db

# PostgreSQL port
POSTGRES_PORT=5432

# ============================================
# OPTIONAL - Server Configuration
# ============================================

# Server port (defaults to 3000)
PORT=3000

# Node environment
NODE_ENV=production

# CORS origins (comma-separated list of allowed origins)
# Defaults to http://localhost:5173,http://localhost:3000 if not set
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ============================================
# OPTIONAL - Email Configuration (SMTP)
# ============================================

# SMTP server host (e.g., smtp.gmail.com, smtp.sendgrid.net)
SMTP_HOST=

# SMTP server port (usually 587 for TLS, 465 for SSL, 25 for unencrypted)
SMTP_PORT=587

# `false` for STARTTLS (port 587), `true` for direct SSL/TLS (port 465)
SMTP_SECURE=false

# SMTP username (usually your email address)
SMTP_USER=

# SMTP password or app-specific password
SMTP_PASS_FILE=/run/secrets/smtp_pass # See docker-compose.prod.yml for Docker Secrets setup

# From address for emails
SMTP_FROM=noreply@yourdomain.com

# ============================================
# OPTIONAL - Development Only
# ============================================

# Enable Prisma query logging (set to 'true' to enable)
# PRISMA_LOG_QUERIES=false

# ============================================
# OPTIONAL - Future: Redis for Rate Limiting
# ============================================

# Redis URL (for distributed rate limiting in multi-instance deployments)
# REDIS_URL=redis://localhost:6379
