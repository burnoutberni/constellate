# Constellate - Environment Variables
# Copy this file to .env and fill in the values

# ============================================
# REQUIRED - Production
# ============================================

# Database connection string
# For PostgreSQL (production):
DATABASE_URL=postgresql://user:password@localhost:5432/constellate?schema=public
# For SQLite (development):
# DATABASE_URL=file:./dev.db

# Base URL for the application (required in production)
# This should be your public-facing URL (e.g., https://yourdomain.com)
BETTER_AUTH_URL=https://yourdomain.com

# Better Auth secret (generate with: openssl rand -base64 32)
# This is used for signing cookies and tokens
# Use BETTER_AUTH_SECRET_FILE for Docker Secrets in production
BETTER_AUTH_SECRET=your-secret-key-here-change-in-production
# BETTER_AUTH_SECRET_FILE=/run/secrets/better_auth_secret

# Trusted origins for Better Auth (comma-separated)
# Should match your BETTER_AUTH_URL and any frontend domains
BETTER_AUTH_TRUSTED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Encryption key for private keys (64 hex characters = 32 bytes)
# Generate with: openssl rand -hex 32
# This encrypts user private keys in the database
# Use ENCRYPTION_KEY_FILE for Docker Secrets in production
ENCRYPTION_KEY=your-64-character-hex-encryption-key-here
# ENCRYPTION_KEY_FILE=/run/secrets/encryption_key

# ============================================
# OPTIONAL - Server Configuration
# ============================================

# Server port (defaults to 3000)
PORT=3000

# Node environment
NODE_ENV=production

# CORS origins (comma-separated list of allowed origins)
# Defaults to http://localhost:5173,http://localhost:3000 if not set
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ============================================
# OPTIONAL - Database Configuration (PostgreSQL)
# ============================================

# PostgreSQL username (defaults to postgres)
POSTGRES_USER=postgres

# PostgreSQL password (defaults to postgres)
POSTGRES_PASSWORD=your-secure-password-here

# PostgreSQL database name (defaults to constellate)
POSTGRES_DB=constellate

# ============================================
# OPTIONAL - Development Only
# ============================================

# Encryption key file path (for development, auto-generated if not set)
# ENCRYPTION_KEY_FILE=/app/.encryption-key

# Enable Prisma query logging (set to 'true' to enable)
# PRISMA_LOG_QUERIES=false

# ============================================
# OPTIONAL - Email Configuration (SMTP)
# ============================================

# SMTP server host (e.g., smtp.gmail.com, smtp.sendgrid.net)
SMTP_HOST=

# SMTP server port (usually 587 for TLS, 465 for SSL, 25 for unencrypted)
SMTP_PORT=587

# Use secure connection (true for SSL, false for TLS/STARTTLS)
SMTP_SECURE=false

# SMTP username (usually your email address)
SMTP_USER=

# SMTP password or app-specific password
# Use SMTP_PASS_FILE for Docker Secrets in production
SMTP_PASS=
# SMTP_PASS_FILE=/run/secrets/smtp_pass

# From address for emails
SMTP_FROM=noreply@yourdomain.com


# ============================================
# OPTIONAL - Future: Redis for Rate Limiting
# ============================================

# Redis URL (for distributed rate limiting in multi-instance deployments)
# REDIS_URL=redis://localhost:6379
